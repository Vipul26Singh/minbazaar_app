<ion-modal-view class="cart" ng-controller="CartCtrl">

<ion-header-bar class="pinro-header header-shadow">
    
      <button class="button button-clear text-button" ng-click="closeCartModal()">Close</button>
   
    <h1 class="title">Cart</h1>
  </ion-header-bar>

        
	<ion-content>


<div class="cart-list">
			
            <ion-list ng-if="CartItemList.length">
  <ion-item ng-repeat="item in CartItemList track by $index" class="item-thumbnail-left item-icon-right">
            <img ng-src="{{item.imgUrl}}">
             <h5>{{item.name}}</h5>
                            <small class="category-name">{{item.category}}</small>
                            <small class="size"> <span ng-if="item.size">Size: {{item.size | uppercase}}</span><span ng-if="item.color">, Color: {{item.color | uppercase}}</span></small>
                            <small class="">Est. Delivery 5-6 days</small>
                            <h3 class="price">&#8377; {{item.price * item.quantity}}</h3>
            <i class="icon ion-android-close color-light-grey" ng-click="removeItem(item)"></i>


            <div class="quantity-items"> 
                  <div ng-click="item.quantity = item.quantity - 1" ng-class="{'disable-pointer-events': item.quantity == 1}"><i class="ion-android-remove"></i></div>
                  <div ><span class="checkout-product-price ng-binding">{{item.quantity}}</span></div>
                  <div  ng-click="item.quantity = item.quantity + 1" ng-class="{'disable-pointer-events': item.quantity == 10}"><i class="ion-android-add"></i></div>
          </div>
  </ion-item>
            </ion-list>

</div>
<div><h4>Select Payment Method</h4></div>

<ion-radio style="margin:0px" ng-model="choice.answer" ng-value="'cod'" >Cash on Delivery &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</ion-radio>
<ion-radio style="margin:0px" ng-model="choice.answer" ng-value="'online'" checked='true'>Net Banking/Credit Card/Debit Card</ion-radio>

        <div style="" class="price-overview animated fadeInUpBig">
            <div class="row">
                <div class="col">
                    Subtotal:
                </div>
                <div class="col">
                    &#8377; {{getSubtotal()}} 
                </div>
            </div>
            <!--<div class="row">
                <div class="col">
                    Estimated Tax:
                </div>
                <div class="col">
                   &#8377; {{calculateTax(20)}} 
                </div>
            </div>-->
            <div class="row">
                <div class="col">
                    Shipping & Returns:
                </div>
                <div class="col color-grapefruit">
                    50 
                </div>
            </div>
	    <div class="row" ng-show="choice.answer=='cod'">
                <div class="col">
                    Cash On Delivery Charges:
                </div>
                <div class="col color-grapefruit">
                    50 
                </div>
            </div>
	    <div class="row total" ng-show="choice.answer!='cod'">
                <div class="col">
                    Total
                </div>
		<div class="col">
                    {{ calculateGrandTotal()}}
                </div>
            </div>	
            <div class="row total"  ng-show="choice.answer=='cod'">
                <div class="col">
                    Total
                </div>
		<div class="col">
                    {{ calculateGrandTotal()+50}}
                </div>
            </div>






        </div>
            <div class="footer-button  animated fadeInUpBig">
             <button class="button button-dark button-block button-round button-outline " ng-disabled="!CartItemList.length || !choice.answer" ng-click="goToCheckout(choice)">Checkout</button>
            </div>


</ion-content>
</ion-modal-view>
